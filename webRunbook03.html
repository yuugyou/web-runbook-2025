<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Runbook Prototype – 3 Steps</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React 18 + React-DOM CDN -->
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>

    <!-- Babel (让浏览器现编译 JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>

  <body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
      const { useState } = React;

      /* ---------- 示例数据：3 个步骤 ---------- */
      const steps = [
        {
          title: "Step 1",
          links: [
            { label: "Link1", url: "https://example.com/1" },
            { label: "Link2", url: "https://example.com/2" },
            { label: "Link3", url: "https://example.com/3" },
          ],
          blocks: [
            "这里是 Step 1 的第一段说明，可复制 ✅",
            "Step 1 的第二段占位文字",
            "Step 1 的第三段占位文字",
          ],
          imageAlt: "Image Sample 1",
        },
        {
          title: "Step 2",
          links: [
            { label: "LinkA", url: "https://example.com/A" },
            { label: "LinkB", url: "https://example.com/B" },
            { label: "LinkC", url: "https://example.com/C" },
          ],
          blocks: [
            "这里是 Step 2 的第一段说明，可复制 ✅",
            "Step 2 的第二段占位文字",
            "Step 2 的第三段占位文字",
          ],
          imageAlt: "Image Sample 2",
        },
        {
          title: "Step 3",
          links: [
            { label: "Doc1", url: "https://example.com/doc1" },
            { label: "Doc2", url: "https://example.com/doc2" },
            { label: "Doc3", url: "https://example.com/doc3" },
          ],
          blocks: [
            "这里是 Step 3 的第一段说明，可复制 ✅",
            "Step 3 的第二段占位文字",
            "Step 3 的第三段占位文字",
          ],
          imageAlt: "Image Sample 3",
        },
      ];

      /* ---------- 主组件 ---------- */
      function App() {
        const [idx, setIdx] = useState(0); // 当前步骤索引
        const step = steps[idx];

        const copyFirstBlock = () => {
          navigator.clipboard.writeText(step.blocks[0]);
          toast("已复制到剪贴板");
        };

        /* 简易 Toast（2 秒消失） */
        const toast = (msg) => {
          const t = document.createElement("div");
          t.innerText = msg;
          t.className =
            "fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded shadow-lg opacity-90";
          document.body.appendChild(t);
          setTimeout(() => t.remove(), 2000);
        };

        return (
          <div className="max-w-6xl mx-auto p-6 text-sm">
            {/* 顶栏 */}
            <nav className="flex justify-between items-center mb-6">
              <ul className="flex gap-8">
                {["Home", "CCPF", "C3P", "Authenticity"].map((item) => (
                  <li
                    key={item}
                    className={
                      item === "CCPF"
                        ? "font-semibold border-b border-black"
                        : "text-gray-600 hover:text-black"
                    }
                  >
                    <a href="#">{item}</a>
                  </li>
                ))}
              </ul>
              <ul className="flex gap-6">
                <li>
                  <a href="#">Edit</a>
                </li>
                <li>
                  <a href="#">Sys&nbsp;&amp;&nbsp;Admin</a>
                </li>
              </ul>
            </nav>

            {/* 主体 */}
            <div className="flex">
              {/* 左侧链接列 */}
              <div className="flex flex-col gap-4 items-center mr-6">
                {step.links.map((link) => (
                  <a
                    key={link.label}
                    href={link.url}
                    target="_blank"
                    className="w-14 h-14 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center"
                  >
                    {link.label}
                  </a>
                ))}
              </div>

              {/* 中央内容列 */}
              <div className="flex-1">
                <h2 className="mb-2">{step.title}</h2>
                <h3 className="mb-4 text-center font-medium">Original view</h3>

                {step.blocks.map((txt, i) => (
                  <div
                    key={i}
                    className="bg-gray-300 h-24 mb-4 rounded flex items-center justify-center px-4 text-center whitespace-pre-wrap"
                  >
                    {txt}
                  </div>
                ))}

                {/* Copy 按钮 */}
                <button
                  onClick={copyFirstBlock}
                  className="w-16 h-16 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center ml-auto"
                >
                  Copy
                </button>

                {/* 分页按钮 */}
                <div className="flex justify-center gap-6 mt-6">
                  <button
                    onClick={() => setIdx((i) => i - 1)}
                    disabled={idx === 0}
                    className="px-4 py-2 rounded bg-gray-200 disabled:bg-gray-100 disabled:text-gray-400 hover:bg-gray-300"
                  >
                    Previous
                  </button>
                  <button
                    onClick={() => setIdx((i) => i + 1)}
                    disabled={idx === steps.length - 1}
                    className="px-4 py-2 rounded bg-gray-200 disabled:bg-gray-100 disabled:text-gray-400 hover:bg-gray-300"
                  >
                    Next
                  </button>
                </div>
              </div>

              {/* 右侧图片占位 */}
              <div className="ml-6">
                <div className="bg-gray-300 w-56 h-64 flex items-center justify-center text-center px-4">
                  {step.imageAlt}
                </div>
              </div>
            </div>
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
